<HTML>
<TITLE>The Weekly Kettle Tip #8: Using the Copy Tables Wizard</TITLE>
<BODY>

Dear Kettle User,
<p>Lately, more and more people ask about using Kettle to do data migration from one database to another.  Usually this involves copying data from a propriatery (expensive) database to an open source database.
</p>
<p>Data migration projects are arguably one of the most difficult there are because while in theory all relational database use SQL, in practice, database vendors do as much as possible to provide their users with propriatery extensions.  Obviously they do this to create a <a class="external" href="http://en.wikipedia.org/wiki/Vendor_lock-in">vendor lock-in</a> and to have that customer stay with the company for a long time thereafter.

</p>
<p>However, that being said, there are a few options available in Kettle that will help you to do database migrations and also help you to automate the tasks.
</p>
<p>One of the features that I will cover today is the use of the &quot;Copy Tables Wizard&quot; that is available in the job editor called Chef.
Chef is part of the standard Pentaho Data Integration suite of products.
</p>
<p><b>The requirements for this wizard to work is that you have a Kettle Repository installed and that you are logged into this repository.
You also need to have created at least 2 database connections: one for the source database and one for the target database.</b>
</p>
<p>You can start the wizard by selecting the appropriate menu in Chef:
</p>
<p><img class="inline" src="images/copy-wizard/wizard-1.png"/>
</p>
<p></p>
<p>Then you need to select the source and target databases:

</p>
<p><img class="inline" src="images/copy-wizard/wizard-2.png"/>
</p>
<p></p>
<p>After that you can select the tables you would like to copy:
</p>
<p><img class="inline" src="images/copy-wizard/wizard-3.png" />
</p>
<p><img class="inline" src="images/copy-wizard/wizard-4.png" />
</p>
<p>Finally, you are being asked to give the new job that this wizard will create a name and a location in the repository. (click on the &quot;...&quot; button to select a directory to store the job and transformations in)
</p>
<p><img class="inline" src="images/copy-wizard/wizard-5.png" />
</p>

<p>After selecting &quot;Finished&quot; Chef will be creating a job containing a series of job entries that will create the SQL to create the tables and also the transformations to copy the data.
When finished, this is what it typically looks like:
</p>
<p><img class="inline" src="images/copy-wizard/wizard-6.png" />
</p>
<p>Running this job will cause the tables to be created and populated on the target database.
</p>
<p>Here is an example of a generated SQL job entry dialog:
</p>
<p><img class="inline" src="images/copy-wizard/wizard-7.png" />
</p>
<p>And here is an example of a generated transformation copy job entry:
</p>
<p><img class="inline" src="images/copy-wizard/wizard-8.png" />
</p>

<p>Until next time,
</p>
<p>Matt</p>
</BODY>
</HTML>
